<div ng-init="seVm.activate()">

    <div>Edit a project</div>

    <div  layout="row" flex layout-wrap id="page-container-content">
        <div class="column md-card" flex
        md-padding="2"
        ng-repeat="section in seVm.project.sections | filter: {'page_id': seVm.currentPage.id} as currentSections">
            <div class="section-header" ng-bind="section.name"></div>
            <div class="section-container" layout="column">
                <div class="cueButton-container"
                flex="none" layout="row"
                ng-repeat="cue in seVm.project.cues | cuesInSection: section.id as currentCues">
                    <md-button class="cueButton"
                    aria-label="{{cue.name}}"
                    ng-bind="cue.name"
                    ng-click="seVm.editCue(cue,$event)">
                    </md-button>
                    <div class="cueButton-badge channelState-ERROR"
                    ng-if="!cue.sources.length"
                    md-whiteframe="1">
                        <div class="badge badge-error">
                            <svg syn-icon="error" size="22"></svg>
                        </div>
                    </div>
                </div>
                <div class="cueButton-container" flex="none" layout="row">
                    <div ng-click="seVm.addCue(currentCues.length,section,$event)">+ Add Cue</div>
                </div>
            </div>
        </div>
        <div class="section md-card" flex md-padding="2">
            <div ng-click="seVm.addSection(currentSections.length,$event)">+ Add Section</div>
        </div>
    </div>

    <button ng-click="seVm.copyMediaToProject()">Copy Media</button>

    <div ng-repeat="medium in seVm.media" ng-bind="medium"></div>

</div>